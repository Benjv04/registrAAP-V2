<ion-menu contentId="main-content" menuId="home-menu">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu de Alumnos</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="menu-content">
    <ion-list>
      <ion-item button class="menu-button" (click)="cerrarSesion()">
        <ion-icon name="log-out" slot="end"></ion-icon>
        Cerrar Sesión
      </ion-item>
    </ion-list>
  
    <ion-list>
      <ion-item button class="menu-button" (click)="cambAsig()">
        <ion-icon name="journal" slot="end"></ion-icon>
        Cambiar Asignatura
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <!-------selección de asignatura -->
  <div *ngIf="mostrarAsignatura" class="selecAsig">
    <ion-header>
      <ion-toolbar>
        <ion-title>Selecciona tu asignatura</ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content class="content-asignaturas" fullscreen>
      <ion-list class="lisAsi">
        <ion-item class="Asig-button" button (click)="elegirAsignatura('Matemáticas')"> 
          <ion-icon name="calculator" slot="end"></ion-icon> Matemáticas
        </ion-item>
        <ion-item class="Asig-button" button (click)="elegirAsignatura('Inglés')">Inglés</ion-item>
        <ion-item class="Asig-button" button (click)="elegirAsignatura('Lenguaje')">Lenguaje</ion-item>
        <ion-item class="Asig-button" button (click)="elegirAsignatura('Ciencias')">Ciencias</ion-item>
        <ion-item class="Asig-button" button (click)="elegirAsignatura('Historia')">Historia</ion-item>
      </ion-list>
    </ion-content>
  </div>

  <!-------Vista principal-->
  <div *ngIf="!mostrarAsignatura">
    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button menu="home-menu"></ion-menu-button>
        </ion-buttons>
        <ion-title>Registro de Asistencia</ion-title>
      </ion-toolbar>
    </ion-header>

    <br>

    <ion-content class="ion-padding assisContainer" fullscreen>
      <!-------vista de registro de asistencia -->
      <ion-text color="black" *ngIf="mensajeBienvenida">
        <h2 class="ion-text-center">
          <strong>{{ mensajeBienvenida }}</strong>
        </h2>
      </ion-text>
  
      <br>

      <div *ngIf="seleccionada">
        <ion-text color="dark">
          <p>Asignatura seleccionada: {{ seleccionada }}</p>
        </ion-text>
      </div>
      
      <br>

      <ion-button expand="block" color="dark" (click)="scan()">Escanear QR para Asistencia</ion-button>

      <div *ngIf="fechaHoraRegistro" class="asisRegist">
        <ion-text color="dark">
          <h3>¡Asistencia registrada!</h3>
          <p>Fecha y Hora: {{ fechaHoraRegistro }}</p>
        </ion-text>
      </div>

      <br>
      
      <div class="feriados">
        <ion-text color="black">
          <h2 class="ion-text-center">Próximos Feriados</h2>
        </ion-text>
        <ion-list *ngIf="feriados.length > 0">
          <ion-item *ngFor="let feriado of feriados">
            <ion-label>
              <h3>{{ feriado.title }}</h3>
              <p>{{ feriado.date | date: 'dd-MM-yyyy' }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </div>
      <div class="trineo">
        <ion-img class="trineo-imagen"src="assets/img/trineo.webp"></ion-img>
      </div>
    </ion-content>
  </div>
</div>
